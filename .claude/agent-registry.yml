# Agent Registry
# Maps logical roles to specialized agents with fallback options
# Version: 5.0.0 (Updated for MCP JIT loading with category-namespaced references)
#
# This registry enables workflows to discover agents by role with fallback chains.
# MCP server queries this registry to map logical roles to actual agent definitions
# loaded JIT from /agents/[category]/[agent-name].md
#
# Naming convention: category:agent-name
# Categories correspond to /agents/[category]/ directories (which currently map to plugins/*/agents/)
# Agent names match markdown filenames without .md extension
#
# Category mappings (direct - no aliases):
#   Categories correspond directly to /agents/ directories
#   - development → agents/development/
#   - languages → agents/languages/
#   - frontend → agents/frontend/
#   - database → agents/database/
#   - quality → agents/quality/
#   - devops → agents/devops/
#   - infrastructure → agents/infrastructure/
#   - mobile → agents/mobile/
#   - game → agents/game/
#   - ai-ml → agents/ai-ml/
#   - blockchain → agents/blockchain/
#   - api → agents/api/
#   - meta → agents/meta/
#   - orchestration → agents/orchestration/
#   - compliance → agents/compliance/

roles:
  # Architecture & Design
  system_architect:
    primary: development:architect
    fallbacks: [development:fullstack-developer, orchestration:project-orchestrator]
    capabilities: [architecture, system-design, scalability, technology-decisions]
    model: sonnet
    use_when: "designing system architecture, making architectural decisions"

  # Frontend Development
  frontend_developer:
    primary: frontend:react-specialist
    fallbacks: [development:fullstack-developer, frontend:nextjs-specialist]
    capabilities: [react, vue, angular, ui-components, responsive-design]
    model: haiku
    use_when: "building UI components, client-side logic"

  react_specialist:
    primary: frontend:react-specialist
    fallbacks: [frontend:nextjs-specialist, development:fullstack-developer]
    capabilities: [react, hooks, context, performance-optimization, testing]
    model: haiku
    use_when: "complex React implementations, performance optimization"

  nextjs_specialist:
    primary: frontend:nextjs-specialist
    fallbacks: [frontend:react-specialist, development:fullstack-developer]
    capabilities: [nextjs, ssr, static-generation, api-routes, performance]
    model: haiku
    use_when: "Next.js applications, server-side rendering"

  vue_specialist:
    primary: frontend:vue-specialist
    fallbacks: [frontend:react-specialist, development:fullstack-developer]
    capabilities: [vue, composition-api, nuxt, reactive-patterns]
    model: haiku
    use_when: "Vue.js applications and components"

  angular_specialist:
    primary: frontend:angular-specialist
    fallbacks: [frontend:react-specialist, development:fullstack-developer]
    capabilities: [angular, typescript, rxjs, decorators, dependency-injection]
    model: haiku
    use_when: "Angular applications and enterprise UIs"

  # Backend Development
  backend_developer:
    primary: development:fullstack-developer
    fallbacks: [languages:python-developer, languages:typescript-developer]
    capabilities: [apis, business-logic, databases, backend-services]
    model: haiku
    use_when: "building APIs, business logic, backend services"

  python_developer:
    primary: languages:python-developer
    fallbacks: [languages:typescript-developer, development:fullstack-developer]
    capabilities: [python, django, fastapi, sqlalchemy, data-processing]
    model: haiku
    use_when: "Python backend development, data-intensive applications"

  typescript_developer:
    primary: languages:typescript-developer
    fallbacks: [languages:python-developer, development:fullstack-developer]
    capabilities: [typescript, nodejs, express, async-patterns, type-safety]
    model: haiku
    use_when: "TypeScript/Node.js backend, API development"

  go_developer:
    primary: languages:go-developer
    fallbacks: [languages:rust-developer, languages:java-developer]
    capabilities: [go, goroutines, microservices, high-concurrency]
    model: haiku
    use_when: "Go microservices, high-performance services"

  rust_developer:
    primary: languages:rust-developer
    fallbacks: [languages:go-developer, languages:java-developer]
    capabilities: [rust, memory-safety, systems-programming, performance]
    model: haiku
    use_when: "Rust systems programming, performance-critical code"

  java_developer:
    primary: languages:java-developer
    fallbacks: [languages:typescript-developer, languages:python-developer]
    capabilities: [java, spring-boot, enterprise-patterns, jvm-optimization]
    model: haiku
    use_when: "Java/Spring Boot enterprise applications"

  # Database & Infrastructure
  database_specialist:
    primary: database:postgresql-specialist
    fallbacks: [database:mongodb-specialist, database:redis-specialist]
    capabilities: [database-design, sql, performance-tuning, scalability]
    model: sonnet
    use_when: "database schema design, performance optimization"

  postgres_specialist:
    primary: database:postgresql-specialist
    fallbacks: [database:mongodb-specialist, infrastructure:elasticsearch-specialist]
    capabilities: [postgresql, sql, json, transactions, replication]
    model: haiku
    use_when: "PostgreSQL design, optimization, advanced SQL"

  mongodb_specialist:
    primary: database:mongodb-specialist
    fallbacks: [database:postgresql-specialist, database:dynamodb-specialist]
    capabilities: [mongodb, document-design, aggregation, sharding]
    model: haiku
    use_when: "MongoDB document design, data modeling"

  redis_specialist:
    primary: database:redis-specialist
    fallbacks: [database:postgresql-specialist, infrastructure:redis-cache-specialist]
    capabilities: [redis, caching, pub-sub, streams, performance]
    model: haiku
    use_when: "Redis caching, real-time data"

  elasticsearch_specialist:
    primary: infrastructure:elasticsearch-specialist
    fallbacks: [infrastructure:algolia-specialist, database:postgresql-specialist]
    capabilities: [elasticsearch, full-text-search, analytics, log-aggregation]
    model: haiku
    use_when: "Elasticsearch search, analytics, logging"

  # Quality Assurance & Testing
  code_reviewer:
    primary: quality:code-reviewer
    fallbacks: [development:architect, development:fullstack-developer]
    capabilities: [code-review, best-practices, patterns, maintainability]
    model: haiku
    use_when: "code review, quality validation"

  test_engineer:
    primary: quality:test-engineer
    fallbacks: [development:fullstack-developer, quality:debugger]
    capabilities: [testing, test-automation, coverage, test-design]
    model: haiku
    use_when: "writing tests, test automation"

  security_auditor:
    primary: quality:security-auditor
    fallbacks: [development:fullstack-developer, quality:code-reviewer]
    capabilities: [security, vulnerabilities, compliance, owasp]
    model: sonnet
    use_when: "security audits, vulnerability scanning"

  debugger:
    primary: quality:debugger
    fallbacks: [quality:test-engineer, development:fullstack-developer]
    capabilities: [debugging, troubleshooting, issue-diagnosis, root-cause]
    model: haiku
    use_when: "debugging complex issues, troubleshooting"

  performance_analyzer:
    primary: quality:load-testing-specialist
    fallbacks: [development:architect, quality:debugger]
    capabilities: [performance-analysis, profiling, optimization, benchmarking, load-testing]
    model: haiku
    use_when: "performance testing, bottleneck identification"

  contract_testing_specialist:
    primary: quality:contract-testing-specialist
    fallbacks: [quality:test-engineer, quality:code-reviewer]
    capabilities: [contract-testing, api-testing, integration-testing]
    model: haiku
    use_when: "contract testing, API testing"

  mutation_testing_specialist:
    primary: quality:mutation-testing-specialist
    fallbacks: [quality:test-engineer, quality:code-reviewer]
    capabilities: [mutation-testing, test-quality, code-coverage]
    model: haiku
    use_when: "mutation testing, test suite quality validation"

  playwright_specialist:
    primary: quality:playwright-specialist
    fallbacks: [quality:test-engineer, frontend:react-specialist]
    capabilities: [playwright, e2e-testing, browser-automation, cross-browser]
    model: haiku
    use_when: "end-to-end testing with Playwright"

  # Orchestration & Coordination
  project_orchestrator:
    primary: orchestration:project-orchestrator
    fallbacks: [development:architect, orchestration:feature-orchestrator]
    capabilities: [orchestration, coordination, planning, project-management]
    model: sonnet
    use_when: "end-to-end project coordination"

  feature_orchestrator:
    primary: orchestration:feature-orchestrator
    fallbacks: [orchestration:project-orchestrator, development:fullstack-developer]
    capabilities: [feature-delivery, coordination, integration, workflow]
    model: sonnet
    use_when: "complete feature development lifecycle"

  # DevOps & Infrastructure
  devops_engineer:
    primary: devops:terraform-specialist
    fallbacks: [devops:aws-specialist, devops:gcp-specialist]
    capabilities: [ci-cd, automation, deployment, infrastructure, iac]
    model: haiku
    use_when: "CI/CD pipeline setup, deployment automation"

  docker_specialist:
    primary: devops:aws-specialist
    fallbacks: [devops:terraform-specialist, devops:gcp-specialist]
    capabilities: [docker, containerization, images, registries, ecs, ecr]
    model: haiku
    use_when: "Docker containerization, image optimization"

  kubernetes_expert:
    primary: devops:aws-specialist
    fallbacks: [devops:terraform-specialist, devops:gcp-specialist]
    capabilities: [kubernetes, orchestration, helm, scaling, monitoring, eks]
    model: sonnet
    use_when: "Kubernetes deployment, cluster management"

  infrastructure_engineer:
    primary: devops:terraform-specialist
    fallbacks: [devops:aws-specialist, devops:gcp-specialist]
    capabilities: [infrastructure, provisioning, monitoring, scaling, iac]
    model: sonnet
    use_when: "infrastructure design, cloud architecture"

  terraform_specialist:
    primary: devops:terraform-specialist
    fallbacks: [devops:aws-specialist, devops:gcp-specialist]
    capabilities: [terraform, iac, infrastructure-as-code, state-management]
    model: haiku
    use_when: "Infrastructure as Code with Terraform"

  aws_specialist:
    primary: devops:aws-specialist
    fallbacks: [devops:gcp-specialist, devops:azure-specialist]
    capabilities: [aws, ec2, s3, lambda, rds, cloudformation]
    model: haiku
    use_when: "AWS service selection, configuration"

  gcp_specialist:
    primary: devops:gcp-specialist
    fallbacks: [devops:aws-specialist, devops:azure-specialist]
    capabilities: [gcp, compute-engine, cloud-functions, datastore]
    model: haiku
    use_when: "Google Cloud Platform services"

  azure_specialist:
    primary: devops:azure-specialist
    fallbacks: [devops:aws-specialist, devops:gcp-specialist]
    capabilities: [azure, vms, app-service, azure-devops, cosmosdb]
    model: haiku
    use_when: "Microsoft Azure services"

  # Mobile Development
  ios_developer:
    primary: mobile:swiftui-specialist
    fallbacks: [mobile:compose-specialist, frontend:react-specialist]
    capabilities: [ios, swift, swiftui, xcode, cocoapods]
    model: haiku
    use_when: "iOS app development, Swift implementation"

  android_developer:
    primary: mobile:compose-specialist
    fallbacks: [mobile:swiftui-specialist, languages:kotlin-developer]
    capabilities: [android, kotlin, jetpack, gradle, compose]
    model: haiku
    use_when: "Android app development, Kotlin implementation"

  swiftui_specialist:
    primary: mobile:swiftui-specialist
    fallbacks: [languages:swift-developer, mobile:compose-specialist]
    capabilities: [swiftui, swift, ios-development, macos]
    model: haiku
    use_when: "SwiftUI app development"

  compose_specialist:
    primary: mobile:compose-specialist
    fallbacks: [mobile:swiftui-specialist, languages:kotlin-developer]
    capabilities: [jetpack-compose, kotlin, android-development]
    model: haiku
    use_when: "Jetpack Compose Android development"

  # Game Development
  unity_developer:
    primary: game:unity-specialist
    fallbacks: [game:godot-specialist, game:unreal-specialist]
    capabilities: [unity, csharp, physics, game-logic, optimization]
    model: haiku
    use_when: "Unity game development"

  unreal_developer:
    primary: game:unreal-specialist
    fallbacks: [game:godot-specialist, game:unity-specialist]
    capabilities: [unreal-engine, cpp, blueprints, networking]
    model: sonnet
    use_when: "Unreal Engine game development"

  godot_developer:
    primary: game:godot-specialist
    fallbacks: [game:unity-specialist, game:unreal-specialist]
    capabilities: [godot, gdscript, 2d-3d, performance]
    model: haiku
    use_when: "Godot engine game development"

  # AI/ML Engineering
  data_engineer:
    primary: ai-ml:data-engineer
    fallbacks: [ai-ml:ml-engineer, languages:python-developer]
    capabilities: [data-pipelines, etl, data-warehousing, big-data]
    model: haiku
    use_when: "data engineering, ETL pipeline development"

  ml_engineer:
    primary: ai-ml:ml-engineer
    fallbacks: [ai-ml:mlops-specialist, languages:python-developer]
    capabilities: [machine-learning, models, training, evaluation]
    model: sonnet
    use_when: "machine learning model development"

  mlops_specialist:
    primary: ai-ml:mlops-specialist
    fallbacks: [ai-ml:ml-engineer, devops:terraform-specialist]
    capabilities: [mlops, model-deployment, monitoring, automation]
    model: sonnet
    use_when: "ML operations, model deployment and monitoring"

  langchain_specialist:
    primary: ai-ml:langchain-specialist
    fallbacks: [ai-ml:ml-engineer, languages:python-developer]
    capabilities: [langchain, chains, agents, tool-integration]
    model: haiku
    use_when: "LangChain application development"

  llamaindex_specialist:
    primary: ai-ml:llamaindex-specialist
    fallbacks: [ai-ml:langchain-specialist, languages:python-developer]
    capabilities: [llamaindex, indexing, retrieval, rag-systems]
    model: haiku
    use_when: "LlamaIndex RAG system development"

  # Blockchain & Web3
  web3_developer:
    primary: blockchain:web3-specialist
    fallbacks: [blockchain:solidity-specialist, languages:typescript-developer]
    capabilities: [web3, smart-contracts, defi, nfts]
    model: haiku
    use_when: "Web3 development, dApp creation"

  solidity_developer:
    primary: blockchain:solidity-specialist
    fallbacks: [blockchain:web3-specialist, languages:typescript-developer]
    capabilities: [solidity, ethereum, contract-security, gas-optimization]
    model: sonnet
    use_when: "smart contract development, Solidity"

  # API Design
  graphql_specialist:
    primary: api:graphql-specialist
    fallbacks: [api:openapi-specialist, api:grpc-specialist]
    capabilities: [graphql, schema-design, resolvers, optimization]
    model: haiku
    use_when: "GraphQL API design, query optimization"

  openapi_specialist:
    primary: api:openapi-specialist
    fallbacks: [api:graphql-specialist, api:grpc-specialist]
    capabilities: [openapi, rest, api-design, documentation]
    model: haiku
    use_when: "OpenAPI/REST API design and documentation"

  grpc_specialist:
    primary: api:grpc-specialist
    fallbacks: [api:openapi-specialist, api:graphql-specialist]
    capabilities: [grpc, protobuf, streaming, performance]
    model: haiku
    use_when: "gRPC service design, Protocol Buffers"

  # Documentation & Architecture
  technical_writer:
    primary: meta:workflow-architect
    fallbacks: [meta:skill-architect, development:architect]
    capabilities: [documentation, technical-writing, clarity, examples]
    model: haiku
    use_when: "creating technical documentation"

  workflow_architect:
    primary: meta:workflow-architect
    fallbacks: [meta:agent-architect, orchestration:project-orchestrator]
    capabilities: [workflow-design, orchestration, automation]
    model: sonnet
    use_when: "designing orchestration workflows"

  agent_architect:
    primary: meta:agent-architect
    fallbacks: [meta:workflow-architect, development:architect]
    capabilities: [agent-design, specialized-agents, capability-mapping]
    model: sonnet
    use_when: "designing specialized agents"

  plugin_developer:
    primary: meta:plugin-developer
    fallbacks: [meta:agent-architect, development:fullstack-developer]
    capabilities: [plugin-development, extensibility, integration]
    model: haiku
    use_when: "developing orchestr8 plugins"

  # Compliance
  compliance_specialist:
    primary: compliance:fedramp-specialist
    fallbacks: [compliance:iso27001-specialist, compliance:gdpr-specialist]
    capabilities: [compliance, security-standards, auditing]
    model: sonnet
    use_when: "compliance reviews, standards adherence"

  # Language Specialists (Additional)
  csharp_developer:
    primary: languages:csharp-developer
    fallbacks: [languages:java-developer, languages:typescript-developer]
    capabilities: [csharp, dotnet, async-patterns, entity-framework]
    model: haiku
    use_when: "C# and .NET development"

  cpp_developer:
    primary: languages:cpp-developer
    fallbacks: [languages:rust-developer, languages:go-developer]
    capabilities: [cpp, systems-programming, performance, memory-management]
    model: haiku
    use_when: "C++ systems programming"

  php_developer:
    primary: languages:php-developer
    fallbacks: [languages:python-developer, languages:typescript-developer]
    capabilities: [php, laravel, wordpress, web-development]
    model: haiku
    use_when: "PHP web development"

  ruby_developer:
    primary: languages:ruby-developer
    fallbacks: [languages:python-developer, languages:typescript-developer]
    capabilities: [ruby, rails, metaprogramming, web-development]
    model: haiku
    use_when: "Ruby on Rails development"

  kotlin_developer:
    primary: languages:kotlin-developer
    fallbacks: [languages:java-developer, mobile:compose-specialist]
    capabilities: [kotlin, coroutines, android-development, interop]
    model: haiku
    use_when: "Kotlin development, Android Kotlin"

  swift_developer:
    primary: languages:swift-developer
    fallbacks: [mobile:swiftui-specialist, languages:kotlin-developer]
    capabilities: [swift, swiftui, foundation, ios-development]
    model: haiku
    use_when: "Swift development, iOS/macOS"

# Capability tags for agent discovery
# These enable MCP to find agents by capability rather than just role
capabilities:
  architecture:
    - system_architect
    - infrastructure_engineer
    - database_specialist

  testing:
    - test_engineer
    - accessibility_expert
    - performance_analyzer

  security:
    - security_auditor
    - devops_engineer
    - compliance_specialist

  performance:
    - performance_analyzer
    - database_specialist
    - devops_engineer

  frontend:
    - frontend_developer
    - react_specialist
    - ios_developer
    - android_developer

  backend:
    - backend_developer
    - python_developer
    - typescript_developer
    - go_developer

  deployment:
    - devops_engineer
    - docker_specialist
    - kubernetes_expert
    - infrastructure_engineer

  ai_ml:
    - llm_engineer
    - ml_engineer
    - data_scientist
    - langchain_specialist

  web3:
    - web3_developer
    - solidity_developer

# Fallback strategy: When primary agent unavailable
# 1. Try primary agent first
# 2. If primary fails/unavailable, try fallbacks in order
# 3. If all fallbacks exhausted, MCP returns error with suggestions
fallback_strategy:
  max_depth: 3
  timeout_seconds: 30
  retry_on_timeout: true
  prefer_same_category: true
